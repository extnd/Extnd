<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='Extnd-container-Viewport-method-constructor'><span id='Extnd-container-Viewport-cfg-uiView'><span id='Extnd-container-Viewport-cfg-uiOutline'><span id='Extnd-container-Viewport'>/**
</span></span></span></span> *  Here's an example showing the creation of a typical Extnd.Viewport:
          Ext.create('Extnd.Viewport', {
              uiOutline: {
                  outlineName: &amp;quot;mainOL&amp;quot;
              },
              uiView: {
                  viewName: &amp;quot;Requests&amp;quot;,
                  viewTitle: &amp;quot;Requests&amp;quot;
              }
          });

 *
 * @cfg {Object} uiOutline A {@link Extnd.UIOutline} config object
 * @cfg {Object} uiView A {@link Extnd.UIView} config object
 * @constructor Create an integrated domino interface, with a view and an outline
 * @param {Object} config Configuration options
 *
 */
Ext.define('Extnd.container.Viewport', {

    extend  : 'Ext.container.Viewport',

    alias: [
        'widget.xnd-viewport',
        'widget.xnd-dominoui'
    ],

    alternateClassName: [
        'Extnd.Viewport',
        'Ext.nd.DominoUI'
    ],

    requires: [
        'Extnd.grid.Panel',
        'Extnd.tree.Panel',
        'Ext.tab.Panel',
        'Ext.layout.container.Border'

    ],


<span id='Extnd-container-Viewport-cfg-layout'>    layout: 'border',
</span>
<span id='Extnd-container-Viewport-method-initComponent'>    initComponent: function () {
</span>        var me = this;

        Ext.apply(me, {
            items: me.getItemsCfg()
        });

        me.callParent(arguments);

    },


<span id='Extnd-container-Viewport-property-viewOpeningTitle'>    viewOpeningTitle: 'Opening...',
</span>
<span id='Extnd-container-Viewport-method-getItemsCfg'>    // private
</span>    getItemsCfg: function () {
        var west,
            center;

        // west/outline - be sure to include the defaults property
        // so that for each view opened, the target property defaults
        // will be applied

        west = Ext.apply({
            id          : 'xnd-outline-panel',
            xtype       : 'xnd-uioutline',
            region      : 'west',
            //title       : Ext.nd.Session.currentDatabase.title,
            title       : 'current Db Title',
            collapsible : true,
            split       : true,
            width       : 200,
            minSize     : 150,
            maxSize     : 400,
            target      : 'xnd-center-panel',
            viewTarget  : 'xnd-grid-panel'
        }, this.uiOutline);


        // center/view area
        center = {
            region      : 'center',
            id          : 'xnd-center-panel',
            xtype       : 'tabpanel',
            target      : 'xnd-center-panel',
            defaults : {
                target : 'xnd-center-panel',
                border : true
            },
            enableTabScroll : true,
            activeTab       : 0,
            items: [Ext.apply({
                id      : 'xnd-grid-panel',
                layout  : 'fit',
                xtype   : 'xnd-uiview',
                target  : 'xnd-center-panel',
                closable: false
            }, this.uiView)]
        };

        // include these since the alpha and beta 1x code
        // included these and some developers have custom
        // code that depends on these being defined

//        this.outlinePanel = Ext.getCmp('xnd-outline-panel');
//        this.view = Ext.getCmp('xnd-grid-panel');
//        this.tabPanel = Ext.getCmp('xnd-center-panel');

        return [west, center];

    },

<span id='Extnd-container-Viewport-method-loadLink'>    // leave for backwards capability since this was included in beta 1x code
</span>    loadLink: function () {
        var href = window.location.href,
            qs,
            ps,
            link,
            title,
            unid;

        if (href.indexOf('?') &gt; 0 || href.indexOf('!') &gt; 0) {
            qs = (href.indexOf('?') &gt; 0) ? href.split('?')[1] : href.split('!')[1];
            ps = Ext.urlDecode(qs);
            link = ps.link;
            title = link;

            if (link) {
                unid = (link.indexOf('?') &gt; 0) ? href.split('?')[0] : link;

                Extnd.util.addIFrame({
                    target  : this.tabPanel,
                    uiView  : this.view,
                    url     : link,
                    id      : unid,
                    title   : 'Opening...',
                    useIFrameTitle: true
                });

            }
        }
    }

});
</pre>
</body>
</html>
